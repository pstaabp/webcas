<!DOCTYPE html>
<html>
	<head>
		<meta http-equiv="content-script-type" content="text/javascript" />

		<title>WebCAS -- Gaussian Eliminator</title>

		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
			crossorigin="anonymous"
		/>

		<style type="text/css" href="@styles/webcas.css"></style>

		<!-- @import url("matrix-ops.css"); -->
		<style type="text/css">
			#navbar {
				height: 50px;
			}
			body {
				padding-top: 55px;
				padding-bottom: 30px;
			}
		</style>
	</head>

	<body>
		<nav id="navbar" class="navbar navbar-expand fixed-top navbar-dark bg-dark">
			<div class="container-fluid">
				<a class="navbar-brand" href="#">WebCAS &mdash; Gaussian Eliminator </a>
				<!-- <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsable_items" aria-controls="collapsable_items" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button> -->
				<div class="collapse navbar-collapse navbar-dark bg-dark" id="collapsable_items">
					<ul class="navbar-nav">
						<li class="nav-item dropdown">
							<a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button" aria-expanded="false"
								>Switch Tools</a
							>
							<ul class="dropdown-menu">
								<li><a class="dropdown-item disabled" href="#">Gaussian Eliminator</a></li>
								<li><a class="dropdown-item" href="matrix-calc.html">Matrix Operations</a></li>
								<li><a class="dropdown-item" href="least-squares.html">Linear Regression</a></li>
							</ul>
						</li>
					</ul>
					<form class="d-flex">
						<button
							type="button"
							class="btn btn-sm btn-outline-light"
							data-bs-toggle="modal"
							data-bs-target="#settings-modal"
						>
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="24"
								height="24"
								fill="currentColor"
								class="bi bi-gear"
								viewBox="0 0 16 16"
							>
								<path
									d="M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"
								/>
								<path
									d="M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"
								/>
							</svg>
						</button>
						<button
							type="button"
							class="btn btn-sm btn-outline-light"
							data-bs-toggle="modal"
							data-bs-target="#help-modal"
						>
							<!-- This is a bootrap icon as SVG -->
							<svg
								xmlns="http://www.w3.org/2000/svg"
								width="24"
								height="24"
								fill="currentColor"
								class="bi bi-question-circle-fill"
								viewBox="0 0 16 16"
							>
								<path
									d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.496 6.033h.825c.138 0 .248-.113.266-.25.09-.656.54-1.134 1.342-1.134.686 0 1.314.343 1.314 1.168 0 .635-.374.927-.965 1.371-.673.489-1.206 1.06-1.168 1.987l.003.217a.25.25 0 0 0 .25.246h.811a.25.25 0 0 0 .25-.25v-.105c0-.718.273-.927 1.01-1.486.609-.463 1.244-.977 1.244-2.056 0-1.511-1.276-2.241-2.673-2.241-1.267 0-2.655.59-2.75 2.286a.237.237 0 0 0 .241.247zm2.325 6.443c.61 0 1.029-.394 1.029-.927 0-.552-.42-.94-1.029-.94-.584 0-1.009.388-1.009.94 0 .533.425.927 1.01.927z"
								/>
							</svg>
						</button>
					</form>
				</div>
			</div>
		</nav>

		<div id="main-div" class="container">
			<p style="width: 600px; font-size: 80%">
				For help click on ? on top bar:
				<span style="padding-left: 100px">
					<button id="restart-button" class="btn btn-sm btn-outline-dark">Restart</button></span
				>
			</p>
			<div id="start-div">
				<div class="row mb-3" id="row1">
					<label for="matrix-entry" class="form-label">Enter a Matrix</label>
					<textarea class="form-control" id="matrix-entry" rows="8"></textarea>
				</div>
				<div class="btn-group" role="group" aria-label="Basic example">
					<button id="clear-matrix-button" class="btn btn-sm btn-outline-dark">Clear Matrix</button>
					<button id="store-matrix-button" class="btn btn-sm btn-primary">Enter Matrix</button>
				</div>
			</div>
		</div>
		<div class="container">
			<div id="input-div" class="row md-3 input-boxes d-none">
				<div class="input-group">
					<input
						id="input-box"
						type="text"
						class="form-control"
						placeholder="Row Operation:"
						aria-label="Enter the Row Operation"
					/>
					<button id="enter-button" class="btn btn-primary" type="button">Enter</button>
					<button id="undo-button" class="btn btn-outline-secondary" type="button">Undo</button>
					<button
						id="LaTeX-button"
						class="btn btn-outline-secondary"
						data-bs-toggle="modal"
						data-bs-target="#latex-modal"
					>
						Show LaTeX
					</button>
					<button id="add-row-button" class="btn btn-outline-secondary">Add Row/Col to Tableau</button>
					<button id="pivot-button" class="btn btn-outline-secondary">Select Pivot</button>
				</div>
			</div>
		</div>

		<div id="help-modal" class="modal" tabindex="-1">
			<div class="modal-dialog modal-dialog-scrollable modal-xl">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Help for the Gaussian Eliminator</h5>
						<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
					</div>
					<div class="modal-body">
						<p>
							Here you can perform row operations on a matrix to perform Gaussian Elimination and Gauss-Jordon
							Elimination. A video is available to watch the basic way to use the webpage.
						</p>

						<h3>Row Operations</h3>
						<p>
							There are three basic row operations that are performed on a matrix. Any combination of these operations
							leaves a matrix row equivalent to the original matrix.
						</p>

						<ul>
							<li>
								<span style="font-weight: bold"> Multiply a Row by a constant</span>

								To multiply a row by a constant, use the input <tt>2*R1-&gt;R1</tt> which multiplies row 1 by 2. Often
								the row on the right side of the <tt>-&gt;</tt> is left off such as <tt>2*R1</tt>. The multiplication
								sign <tt>*</tt> is also optional. Note: the arrow <tt>-></tt> is entered as a dash <tt>-</tt> followed
								by the greater than symbol <tt>&gt;</tt>
							</li>

							<li>
								<span style="font-weight: bold">Multiply a row by a constant and add to another.</span> To add rows 1
								and 2 and place the result in row 2, type <tt>R1+R2->R2</tt>. One can also multiply rows by constants.
								For example, <tt>-3R1+R3->R3</tt> or <tt>R1+(11/2)R2->R2</tt>.
							</li>

							<li>
								<span style="font-weight: bold">Swap two rows</span> To swap two rows, type the two rows to swap
								separated by &lt;-&gt; (This should look like a double-headed arrow.) For example,
								<tt>R1&lt;-&gt;R3</tt> swaps rows 1 and 3.
							</li>
						</ul>

						<h3>Multiple Row Operations</h3>

						<p>
							As long as the operations are not both placed in the same row, two operations may be done at once. Each
							operation should be separated by a comma. For example, the following matrix: \[ \left[ \begin{array}{rrr}
							1 & 2 & 3 \\ 4 & 5 & 6 \\ 7 & 8 & 9 \end{array} \right] \] The two row operations
							<tt>-4R1+R2->R2, -7R1+R3->R3</tt> will lead to the matrix: \[ \left[ \begin{array}{rrr} 1 & 2 & 3 \\ 0 &
							-3 & -6 \\ 0 & -6 & -12 \end{array} \right] \]
						</p>

						<h3>Pivoting</h3>

						<p>
							When performing row operations on a matrix, it is desireable to have an 1 on some row of a column and
							zeros on the rest of the column. This is often referred to as <b>pivoting</b> about an element. For
							example, if we take the matrix: \[ \left[ \begin{array}{rrr} 1 & 2 & 3 \\ 4 & 5 & 6 \\ 7 & 8 & 9
							\end{array} \right] \]
						</p>

						<p>and wish to get a 1 in the first row, second column, we would perform the following row operations:</p>
						<ol>
							<li>\(\frac{1}{2} R_1 \rightarrow R_1 \)</li>

							<li>\(-5R_1 + R_2 \rightarrow R_2 \)</li>
							<li>\( -8 R_1 + R_3 \rightarrow R_3 \)</li>
						</ol>

						<p>Which returns in the following matrix:</p>

						<p>\[ \left[ \begin{array}{rrr} 1/2 & 1 & 3/3 \\ 3/2 & 0 & -3/2 \\ 3 & 0 & -3 \end{array} \right] \]</p>

						<p>
							This can be done with the <tt>pivot</tt> command which has the form: <tt>pivot(i,j)</tt> which pivots
							about the ith row and jth column. For example, the above pivot can be done with the command
							<tt>pivot(1,2)</tt>.
						</p>

						<p>
							In addition, there is a pivot command called <tt>piv</tt> that doesn't introduce more fractions into the
							matrix. (However, if fractions are already present, then they will remain). This performs similar row
							operations to that of the <tt>pivot</tt> to get a column which is a multiple of the identity matrix. For
							example, we will redo the pivot command to the matrix above \[ \left[ \begin{array}{rrr} 1 & 2 & 3 \\ 4 &
							5 & 6 \\ 7 & 8 & 9 \end{array} \right] \]
						</p>
						<p>
							Applying <tt>piv(1,2)</tt>, the resulting matrix is: \[ \left[ \begin{array}{rrr} 1 & 2 & 3 \\ 1 & 0 & -1
							\\ 1 & 0 & -1 \end{array} \right] \]
						</p>

						<h4>Converting a matrix to Decimals</h4>

						<p>
							The command <tt>toDecimal</tt> will convert all the rational numbers to decimals (usually about 15 decimal
							places). For example starting with the matrix: \[ \left[ \begin{array}{rr} 1/2 & 1/3 \\ 4/9 & 1/7
							\end{array} \right]\] and typing "toDecimal" in the input box results in \[ \left[ \begin{array}{rr} 0.5
							&0.4444444444444444 \\ 0.3333333333333333& 0.14285714285714285\end{array}\right]\]
						</p>

						<h3>Errors and Troubleshooting</h3>

						<p>
							A number of errors can arise from various forms of input. The main error arises from a bad parsing error.
						</p>

						<h4>Errors on entering a matrix</h4>
						<p>
							The matrix should be entered as each row on a separate line in the text box. Each element of the matrix
							should be separated by spaces and each element can either be an integer, rational (entered with a
							<tt>/</tt>) or decimal. Its important that each row has the same number of elements.
						</p>

						<h4>Errors on row operations</h4>

						<p>Although the input on row operations is fairly flexible, there are a few things to keep in mind.</p>

						<ul>
							<li>All row operations use a CAPITAL R.</li>
							<li>On row swaps, this should be entered only as <tt>R1&lt;-&gt;R2</tt> for example.</li>

							<li>
								On operations with mulitplying rows, the multiplication sign is optional. For example either
								<tt>2*R1-&gt;R1</tt> or <tt>2R1-&gt;R1</tt> can be used.
							</li>

							<li>
								If a rational number (fraction) is used as multiplication, then it should be surrounded by parentheses.
								For example, <tt>(1/2)R2-&gt;R2</tt>.
							</li>

							<li>
								The row on the right hand side of the arrow <tt>-&gt;</tt> is optional. If it is left off, it is assumed
								that the resultant row is the last row entered. For example, the row operations: <tt>4R1+R3->R3</tt> and
								<tt>4R1+R3</tt> are equivalent.
							</li>
						</ul>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
					</div>
				</div>
			</div>
		</div>

		<div id="latex-modal" class="modal" tabindex="-1">
			<div class="modal-dialog modal-dialog-scrollable modal-xl">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">LaTeX Code</h5>
						<a href="#" role="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></a>
					</div>
					<div class="modal-body" id="latex-modal-body"></div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
						<button type="button" class="btn btn-primary" id="copy-latex">Copy</button>
					</div>
				</div>
			</div>
		</div>

		<div id="settings-modal" class="modal" tabindex="-1">
			<div class="modal-dialog modal-dialog-scrollable modal-xl">
				<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title">Settings for the Gaussian Eliminator</h5>
						<a href="#" role="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></a>
					</div>
					<div class="modal-body">
						<form>
							<div class="row">
								<div class="row mb-3">
									<label class="col-sm-10 col-check-label" for="simplexMode">
										Simplex Mode<button
											class="btn btn-info btn-sm"
											type="button"
											data-bs-toggle="collapse"
											data-bs-target="#simplex-mode-help"
											aria-expanded="false"
											aria-controls="collapseExample"
										>
											?
										</button>
									</label>
									<div class="col-sm-2">
										<input class="form-check-input" type="checkbox" value="" id="simplexMode" />
									</div>
								</div>
								<div class="row mb-3">
									<div class="collapse" id="simplex-mode-help">
										<div class="card card-body" style="font-size: 80%">
											<p>
												In simplex mode if the <span class="font-monospace">piv</span> method is used, then all of the
												basic variables are scaled by the integer value of the pivot.
											</p>
										</div>
									</div>
								</div>
								<label for="vertLine" class="col-sm-3 col-form-label"
									>Vertical Line Mode
									<button
										class="btn btn-info btn-sm"
										type="button"
										data-bs-toggle="collapse"
										data-bs-target="#vert-line-help"
										aria-expanded="false"
										aria-controls="collapseExample"
									>
										?
									</button>
								</label>

								<div class="col-sm-7">
									<div class="form-check form-check-inline">
										<input class="form-check-input" type="radio" name="vlineMode" id="vlineMode1" value="NONE" />
										<label class="form-check-label" for="vlineMode1"> None </label>
									</div>
									<div class="form-check form-check-inline">
										<input class="form-check-input" type="radio" name="vlineMode" id="vlineMode2" value="LAST" />
										<label class="form-check-label" for="vlineMode2"> Last Column </label>
									</div>
									<div class="form-check form-check-inline">
										<input class="form-check-input" type="radio" name="vlineMode" id="vlineMode3" value="MIDDLE" />
										<label class="form-check-label" for="vlineMode3"> Middle of the Matrix </label>
									</div>
									<div class="form-check form-check-inline">
										<input class="form-check-input" type="radio" name="vlineMode" id="vlineMode4" value="CUSTOM" />
										<label class="form-check-label" for="vlineMode4"> Custom </label>
									</div>
								</div>
								<div class="col-sm-2">
									<div>
										<input type="text" class="form-control" id="vlineCustom" placeholder="rrrr|r" />
									</div>
								</div>
							</div>
							<div class="row mb-3">
								<div class="collapse" id="vert-line-help">
									<div class="card card-body" style="font-size: 80%">
										<p>
											This option allows you to have no vertical line (default), a vertical line in the middle the
											matrix (need to have an even number of columns), separate the last column or a custom option.
										</p>
										<p>
											If the custom option is used, then the following vertical line modes are overriden. The custom
											option allows one to enter any valid latex-style columns. Usually use r for each column and a
											vertical line | for all lines in the matrix.
										</p>
									</div>
								</div>
							</div>

							<div class="row mb-3">
								<label for="slackLine" class="col-sm-10 col-form-label"
									>Use vertical line to separate slack variables
									<button
										class="btn btn-info btn-sm"
										type="button"
										data-bs-toggle="collapse"
										data-bs-target="#slack-line-help"
										aria-expanded="false"
										aria-controls="collapseExample"
									>
										?
									</button>
								</label>
								<div class="col-sm-2">
									<input class="form-check-input" type="checkbox" value="" id="slackLine" />
								</div>
							</div>
							<div class="row mb-3">
								<div class="collapse" id="slack-line-help">
									<div class="card card-body" style="font-size: 80%">
										If this option is used, the slack variables will be separated with a vertical line. However, if the
										original matrix does not have a slack variable for each constraint (which can be true for many
										General Linear Optimization Problems), then you may want to consider the custom option above.
									</div>
								</div>
							</div>
							<div class="row mb-3">
								<label class="col-sm-10 col-check-label" for="firstColLine">
									Vertical Line to Separate First column<button
										class="btn btn-info btn-sm"
										type="button"
										data-bs-toggle="collapse"
										data-bs-target="#first-col-line-help"
										aria-expanded="false"
										aria-controls="collapseExample"
									>
										?
									</button>
								</label>
								<div class="col-sm-2">
									<input class="form-check-input" type="checkbox" value="" id="firstColLine" />
								</div>
							</div>
							<div class="row mb-3">
								<div class="collapse" id="first-col-line-help">
									<div class="card card-body" style="font-size: 80%">
										If this mode is used, the first column is separated with a vertical line.
									</div>
								</div>
							</div>
							<div class="row mb-3">
								<label class="col-sm-10 col-check-label" for="horizLine">
									Horizontal Line for last row
									<button
										class="btn btn-info btn-sm"
										type="button"
										data-bs-toggle="collapse"
										data-bs-target="#vert-line-help"
										aria-expanded="false"
										aria-controls="collapseExample"
									>
										?
									</button>
								</label>
								<div class="col-sm-2">
									<input class="form-check-input" type="checkbox" value="" id="horizLine" />
								</div>
							</div>
							<div class="row mb-3">
								<div class="collapse" id="vert-line-help">
									<div class="card card-body" style="font-size: 80%">
										<p>
											This produces a Horizontal line to separate the last row (called the <b>objective row</b>) in a
											matrix/simplex tableau.
										</p>
									</div>
								</div>
							</div>
							<div class="row mb-3">
								<label class="col-sm-10 col-check-label" for="addRow">
									Include Add Row/Col to Simplex Tableau Button<button
										class="btn btn-info btn-sm"
										type="button"
										data-bs-toggle="collapse"
										data-bs-target="#add-row-help"
										aria-expanded="false"
										aria-controls="collapseExample"
									>
										?
									</button>
								</label>
								<div class="col-sm-2">
									<input class="form-check-input" type="checkbox" value="" id="addRow" />
								</div>
							</div>
							<div class="row mb-3">
								<div class="collapse" id="add-row-help">
									<div class="card card-body" style="font-size: 80%">
										This option adds a button to the row operation input to add a additional row/column to the tableau.
										It is usedful for performing Gomory's cutting plane method. Note that the row must be of a
										compatible size with the given matrix. This means that the number of columns will be one more than
										the current matrix/tableau. Also, if simplex mode is used, then the new slack variable (which should
										be the 3rd to last column) needs to have the same mutiple as the other basic variables (columns that
										are multiples) of the identity matrix. If not, you will get an error.
									</div>
								</div>
							</div>
							<div class="row mb-3">
								<label class="col-sm-10 col-check-label" for="showLaTeX">
									Include LaTeX button<button
										class="btn btn-info btn-sm"
										type="button"
										data-bs-toggle="collapse"
										data-bs-target="#latex-button-help"
										aria-expanded="false"
										aria-controls="collapseExample"
									>
										?
									</button>
								</label>
								<div class="col-sm-2">
									<input class="form-check-input" type="checkbox" value="" id="showLaTeX" />
								</div>
							</div>
							<div class="row mb-3">
								<div class="collapse" id="latex-button-help">
									<div class="card card-body" style="font-size: 80%">
										<p>
											This option add a <em>Show LaTeX button</em> produces a button on the row operation input line.
											This is used by those who typeset in LaTeX and this is an easy way to import matrices into a LaTeX
											document.
										</p>
									</div>
								</div>
							</div>
							<div class="row mb-3">
								<label class="col-sm-10 col-check-label" for="pivButton">
									Include Click to Pivot Button<button
										class="btn btn-info btn-sm"
										type="button"
										data-bs-toggle="collapse"
										data-bs-target="#select-pivot-help"
										aria-expanded="false"
										aria-controls="collapseExample"
									>
										?
									</button>
								</label>
								<div class="col-sm-2">
									<input class="form-check-input" type="checkbox" value="" id="pivButton" />
								</div>
							</div>
							<div class="row mb-3">
								<div class="collapse" id="select-pivot-help">
									<div class="card card-body" style="font-size: 80%">
										<p>
											This option adds a <em>Select Pivot button</em> produces a button on the row operation input line
											that allows pivots to be made by clicking directly on the desired element. After selected, mousing
											over numbers in the matrix will show where pivots can be made.
										</p>
									</div>
								</div>
							</div>
						</form>
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
						<button type="button" class="btn btn-primary" id="save-settings" data-bs-dismiss="modal">
							Save changes
						</button>
					</div>
				</div>
			</div>
		</div>
	</body>
	<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
			tex2jax: {
				inlineMath: [['$','$'], ['\\(','\\)']]
			}
		});
	</script>

	<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
	<script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
		crossorigin="anonymous"
	></script>
	<script type="text/javascript" src="../apps/gauss-elim.ts"></script>
</html>
